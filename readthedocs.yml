version: 2

sphinx:
  builder: html
  configuration: source/conf.py
  fail_on_warning: true

build:
  os: ubuntu-22.04
  tools:
    python: "3.13"
  apt_packages:
    - librsvg2-bin
  jobs:
    post_checkout:
      - git fetch --unshallow || true
    build:
      htmlzip:
        - mkdir --parents _readthedocs/htmlzip
        # Output to an intermediate directory because RTD doesn't like extra content in the directory. $READTHEDOCS_PROJECT is chosen to so that frc-docs-latest is the root directory of the zip
        - python -m sphinx -T -W --keep-going -b readthedocssinglehtmllocalmedia -d _build/doctrees -D language=$READTHEDOCS_LANGUAGE source $READTHEDOCS_OUTPUT/$READTHEDOCS_PROJECT
        - cd $READTHEDOCS_OUTPUT ; zip --recurse-path --symlinks htmlzip/$READTHEDOCS_PROJECT.zip $READTHEDOCS_PROJECT

formats:
  - htmlzip
  - pdf

python:
  install:
  - requirements: source/requirements.txt

search:
  ignore:
    - software/wpilib-overview/2020-Game-Data.html
    - software/wpilib-overview/known-issues.html
    - software/wpilib-overview/new-for-2020.html
    - contributing/contribution-guidelines.html
    - contributing/top-contributors.html
    - getting-started/getting-started-frc-control-system/updating-and-configuring-pneumatics-control-moduleand-power-distribution-panel.html
    - software/advanced-control/controllers/combining-feedforward-feedback.html
    - software/advanced-control/controllers/feedforward.html
    - software/advanced-control/controllers/index.html
    - software/advanced-control/controllers/pidcontroller.html
    - software/advanced-control/controllers/profiled-pidcontroller.html
    - software/advanced-control/controllers/trapezoidal-profiles.html
    - software/advanced-control/filters/index.html
    - software/advanced-control/filters/introduction.html
    - software/advanced-control/filters/linear-filter.html
    - software/advanced-control/filters/median-filter.html
    - software/advanced-control/filters/slew-rate-limiter.html
    - software/advanced-control/index.html
    - software/advanced-control/introduction/control-system-basics.html
    - software/advanced-control/introduction/controls-glossary.html
    - software/advanced-control/introduction/index.html
    - software/advanced-control/introduction/introduction-to-pid.html
    - software/advanced-control/introduction/tuning-pid-controller.html
    - software/advanced-control/trajectories/index.html
    - software/advanced-control/trajectories/manipulating-trajectories.html
    - software/advanced-control/trajectories/ramsete.html
    - software/advanced-control/trajectories/transforming-trajectories.html
    - software/advanced-control/trajectories/troubleshooting.html
    - software/vision-processing/grip/reading-array-values-published-by-networktables.html
    - software/vision-processing/introduction/axis-m1013-camera-compatibility.html
    - software/vision-processing/introduction/calibration.html
    - software/vision-processing/introduction/camera-settings.html
    - software/vision-processing/introduction/configuring-an-axis-camera.html
    - software/vision-processing/introduction/using-the-axis-camera-at-single-network-events.html
    - software/vision-processing/raspberry-pi/installing-the-image-to-your-microsd-card.html
    - software/vision-processing/raspberry-pi/the-raspberry-pi-frc-console.html
    - software/vision-processing/raspberry-pi/using-a-coprocessor-for-vision-processing.html
    - software/vision-processing/raspberry-pi/using-the-raspberry-pi-for-frc.html
    - software/vision-processing/raspberry-pi/what-you-need-to-get-the-pi-image-running.html
    - software/vision-processing/introduction/using-multiple-cameras.html
    - software/vision-processing/introduction/using-the-cameraserver-on-the-roborio.html
    - software/wpilib-overview/3rd-party-libraries.html
    - software/wpilib-overview/creating-robot-program.html
    - software/wpilib-overview/debugging-robot-program.html
    - software/wpilib-overview/importing-eclipse-project.html
    - software/wpilib-overview/importing-gradle-project.html
    - software/wpilib-overview/using-test-mode.html
    - software/wpilib-overview/viewing-console-output.html
    - software/wpilib-overview/vscode-basics.html
    - software/wpilib-overview/wpilib-commands-vscode.html
    - software/wpilib-overview/what-is-wpilib.html
    - software/vision-processing/introduction/using-the-microsoft-lifecam.html
    - software/wpilib-tools/robotbuilder/advanced/robotbuilder-drive-mecanum.html
    - contributing/build-instructions.html
    - contributing/style-guide.html
    - software/advanced-control/trajectories/trajectory-generation.html
    - software/vision-processing/raspberry-pi/index.html
    - software/wpilib-overview/deploying-robot-code.html
    - software/wpilib-overview/index.html
    - contributing/wpilib/other-wpilib-versions.html
    - getting-started/getting-started-frc-control-system/control-system-hardware.html
    - getting-started/getting-started-frc-control-system/how-to-wire-a-robot.html
    - getting-started/getting-started-frc-control-system/control-system-software.html
    - getting-started/getting-started-frc-control-system/frc-game-tools.html
    - getting-started/getting-started-frc-control-system/imaging-your-roborio.html
    - getting-started/getting-started-frc-control-system/labview-setup.html
    - getting-started/getting-started-frc-control-system/radio-programming.html
    - getting-started/getting-started-frc-control-system/wpilib-setup.html
    - getting-started/running-a-benchtop/creating-benchtop-test-program-cpp-java.html
    - getting-started/running-a-benchtop/creating-benchtop-test-program-labview.html
    - getting-started/running-a-benchtop/running-benchtop-test.html
    - getting-started/getting-started-frc-control-system/index.html
    - getting-started/getting-started-frc-control-system/offline-installation-preparations.html
    - getting-started/getting-started-frc-control-system/updating-and-configuring-pneumatics-control-module-and-power-distribution-panel.html
    - getting-started/running-a-benchtop/index.html
    - getting-started/getting-started-frc-control-system/intro.html
    - 2020-overview/2020-Game-Data.html
    - 2020-overview/index.html
    - 2020-overview/known-issues.html
    - 2020-overview/new-for-2020.html
    - zero-to-robot/step-2/imaging-your-roborio.html
    - zero-to-robot/step-2/radio-programming.html
    - zero-to-robot/step-3/creating-benchtop-test-program-cpp-java.html
    - zero-to-robot/step-3/creating-benchtop-test-program-labview.html
    - zero-to-robot/step-3/running-benchtop-test.html
    - software/old-commandbased/commands/limit-switches-control-behavior.html
    - software/driverstation/driver-station-labview-dashboard.html
    - software/driverstation/troubleshooting-dashboard-connectivity.html
    - software/driverstation/using-the-labview-dashboard-with-c++-java-code.html
    - zero-to-robot/step-1/control-system-hardware.html
    - zero-to-robot/step-2/control-system-software.html
    - software/actuators/using-speed-controllers.html
    - software/vision-processing/frcvision/basic-vision-example.html
    - software/vision-processing/frcvision/image-thresholding.html
    - software/vision-processing/frcvision/index.html
    - software/vision-processing/frcvision/installing-the-image-to-your-microsd-card.html
    - software/vision-processing/frcvision/morphological-operations.html
    - software/vision-processing/frcvision/the-raspberry-pi-frc-console.html
    - software/vision-processing/frcvision/using-a-coprocessor-for-vision-processing.html
    - software/vision-processing/frcvision/using-cameraserver.html
    - software/vision-processing/frcvision/using-the-raspberry-pi-for-frc.html
    - software/vision-processing/frcvision/walkthrough-video.html
    - software/vision-processing/frcvision/what-you-need-to-get-the-pi-image-running.html
    - software/vision-processing/frcvision/working-with-contours.html
    - software/wpilib-tools/robotbuilder/introduction/robotbuilder-default-autonomous-command.html
    - software/wpilib-tools/robotbuilder/introduction/robotbuilder-testing-with-smartdashboard.html
    - software/wpilib-tools/robotbuilder/advanced/robotbuilder-drive-tank.html
    - software/wpilib-tools/robotbuilder/writing-code/robotbuilder-writing-pidsubsystem-code.html
    - software/wpilib-tools/robot-simulation/video-walkthrough.html
    - software/basic-programming/code-formatting.html
    - software/basic-programming/robot-code-ci.html
    - software/advanced-controls/introduction/controls-glossary.html
    - software/advanced-controls/state-space/state-space-glossary.html
    - software/old-commandbased/index.html
    - software/old-commandbased/basics/index.html
    - software/old-commandbased/basics/adding-commands-subsystems.html
    - software/old-commandbased/basics/convert-simple-auto-command-auto.html
    - software/old-commandbased/basics/creating-the-project.html
    - software/old-commandbased/basics/what-is-command-based.html
    - software/old-commandbased/commands/index.html
    - software/old-commandbased/commands/creating-simple-commands.html
    - software/old-commandbased/commands/default-commands.html
    - software/old-commandbased/commands/running-commands-autonomous.html
    - software/old-commandbased/commands/running-commands-joystick-input.html
    - software/old-commandbased/commands/scheduling-commands.html
    - software/old-commandbased/commands/creating-groups-commands.html
    - software/old-commandbased/commands/synchronizing-two-commands.html
    - software/old-commandbased/subsystems/index.html
    - software/old-commandbased/subsystems/pidsubsystems-pid-control.html
    - software/old-commandbased/subsystems/simple-subsystems.html
    - software/wpilib-tools/glass/command-based-widgets.html
    - software/wpilib-tools/glass/field2d-widget.html
    - software/wpilib-tools/glass/index.html
    - software/wpilib-tools/glass/introduction.html
    - software/wpilib-tools/glass/networktables-connection.html
    - software/wpilib-tools/glass/plots.html
    - software/wpilib-tools/glass/widgets.html
    - software/labview-dashboard/driver-station-labview-dashboard.html
    - software/labview-dashboard/index.html
    - software/labview-dashboard/troubleshooting-dashboard-connectivity.html
    - software/labview-dashboard/using-the-labview-dashboard-with-c++-java-code.html
    - software/wpilib-tools/shuffleboard/advanced-usage/index.html
    - software/wpilib-tools/shuffleboard/advanced-usage/shuffleboard-commands-subsystems.html
    - software/wpilib-tools/shuffleboard/advanced-usage/shuffleboard-hierarchies.html
    - software/wpilib-tools/shuffleboard/advanced-usage/shuffleboard-tuning-pid.html
    - software/wpilib-tools/shuffleboard/custom-widgets/builtin-plugins.html
    - software/wpilib-tools/shuffleboard/custom-widgets/creating-a-new-widget.html
    - software/wpilib-tools/shuffleboard/custom-widgets/creating-custom-data-types.html
    - software/wpilib-tools/shuffleboard/custom-widgets/creating-plugins.html
    - software/wpilib-tools/shuffleboard/custom-widgets/custom-themes.html
    - software/wpilib-tools/shuffleboard/custom-widgets/index.html
    - software/wpilib-tools/shuffleboard/custom-widgets/widget-types.html
    - software/wpilib-tools/shuffleboard/getting-started/index.html
    - software/wpilib-tools/shuffleboard/getting-started/shuffleboard-displaying-camera.html
    - software/wpilib-tools/shuffleboard/getting-started/shuffleboard-displaying-data.html
    - software/wpilib-tools/shuffleboard/getting-started/shuffleboard-faq.html
    - software/wpilib-tools/shuffleboard/getting-started/shuffleboard-graphs.html
    - software/wpilib-tools/shuffleboard/getting-started/shuffleboard-lists.html
    - software/wpilib-tools/shuffleboard/getting-started/shuffleboard-preferences.html
    - software/wpilib-tools/shuffleboard/getting-started/shuffleboard-recording.html
    - software/wpilib-tools/shuffleboard/getting-started/shuffleboard-tabs.html
    - software/wpilib-tools/shuffleboard/getting-started/shuffleboard-tour.html
    - software/wpilib-tools/shuffleboard/getting-started/shuffleboard-widgets.html
    - software/wpilib-tools/shuffleboard/index.html
    - software/wpilib-tools/shuffleboard/layouts-with-code/configuring-widgets.html
    - software/wpilib-tools/shuffleboard/layouts-with-code/index.html
    - software/wpilib-tools/shuffleboard/layouts-with-code/organizing-widgets.html
    - software/wpilib-tools/shuffleboard/layouts-with-code/retrieving-data.html
    - software/wpilib-tools/shuffleboard/layouts-with-code/sending-data.html
    - software/wpilib-tools/shuffleboard/layouts-with-code/using-tabs.html
    - software/wpilib-tools/smartdashboard/changing-display-properties.html
    - software/wpilib-tools/smartdashboard/changing-display-widget-type.html
    - software/wpilib-tools/smartdashboard/choosing-an-autonomous-program-from-smartdashboard.html
    - software/wpilib-tools/smartdashboard/displaying-expressions.html
    - software/wpilib-tools/smartdashboard/displaying-status-of-commands-and-subsystems.html
    - software/wpilib-tools/smartdashboard/index.html
    - software/wpilib-tools/smartdashboard/setting-robot-preferences-from-smartdashboard.html
    - software/wpilib-tools/smartdashboard/smartdashboard-intro.html
    - software/wpilib-tools/smartdashboard/smartdashboard-namespace.html
    - software/wpilib-tools/smartdashboard/test-mode-and-live-window/displaying-LiveWindow-values.html
    - software/wpilib-tools/smartdashboard/test-mode-and-live-window/enabling-test-mode.html
    - software/wpilib-tools/smartdashboard/test-mode-and-live-window/index.html
    - software/wpilib-tools/smartdashboard/test-mode-and-live-window/pid-tuning-with-smartdashboard.html
    - software/wpilib-tools/smartdashboard/verifying-smartdashboard-is-working.html
    - software/actuators/overview.html
    - software/actuators/addressable-leds.html
    - software/actuators/pwm-controllers.html
    - software/actuators/servos.html
    - software/actuators/using-motor-controllers.html
    - software/actuators/wpi-drive-classes.html
    - software/actuators/pneumatics.html
    - software/actuators/index.html
    - software/sensors/accelerometers-software.html
    - software/sensors/analog-inputs-software.html
    - software/sensors/analog-potentiometers-software.html
    - software/sensors/counters.html
    - software/sensors/digital-inputs-software.html
    - software/sensors/encoders-software.html
    - software/sensors/gyros-software.html
    - software/sensors/limit-switch.html
    - software/sensors/ultrasonics-software.html
    - software/sensors/sensor-overview-software.html
    - software/sensors/index.html
    - software/wpilib-tools/pathweaver/adding-field-images.html
    - software/wpilib-tools/pathweaver/creating-path-groups.html
    - software/wpilib-tools/pathweaver/creating-pathweaver-project.html
    - software/wpilib-tools/pathweaver/drawing-pathweaver-path.html
    - software/wpilib-tools/pathweaver/index.html
    - software/wpilib-tools/pathweaver/integrating-robot-program.html
    - software/wpilib-tools/pathweaver/introduction.html
    - software/wpilib-tools/robot-characterization/analyzing-data.html
    - software/wpilib-tools/robot-characterization/analyzing-feedback.html
    - software/wpilib-tools/robot-characterization/characterization-routine.html
    - software/wpilib-tools/robot-characterization/deploying-project.html
    - software/wpilib-tools/robot-characterization/generating-project.html
    - software/wpilib-tools/robot-characterization/index.html
    - software/wpilib-tools/robot-characterization/introduction.html
    - software/wpilib-tools/robot-characterization/viewing-diagnostics.html
    - software/examples-tutorials/trajectory-tutorial/characterizing-drive.html
    - software/examples-tutorials/trajectory-tutorial/creating-drive-subsystem.html
    - software/examples-tutorials/trajectory-tutorial/creating-following-trajectory.html
    - software/examples-tutorials/trajectory-tutorial/entering-constants.html
    - software/examples-tutorials/trajectory-tutorial/index.html
    - software/examples-tutorials/trajectory-tutorial/trajectory-tutorial-overview.html
    - software/examples-tutorials/drivesim-tutorial/diffdrive-sim-overview.html
    - software/examples-tutorials/drivesim-tutorial/drivetrain-model.html
    - software/examples-tutorials/drivesim-tutorial/index.html
    - software/examples-tutorials/drivesim-tutorial/odometry-simgui.html
    - software/examples-tutorials/drivesim-tutorial/simulation-instance.html
    - software/examples-tutorials/drivesim-tutorial/updating-drivetrain-model.html
    - software/examples-tutorials/machine-learning/adding-more-data.html
    - software/examples-tutorials/machine-learning/how-it-works.html
    - software/examples-tutorials/machine-learning/index.html
    - software/examples-tutorials/machine-learning/inference.html
    - software/examples-tutorials/machine-learning/setting-up-the-data.html
    - software/examples-tutorials/machine-learning/testing.html
    - software/examples-tutorials/machine-learning/training.html
    - software/examples-tutorials/machine-learning/understanding-precision.html
    - software/examples-tutorials/machine-learning/uploading-data-to-aws-s3.html
    - software/examples-tutorials/machine-learning/using-inference-output.html
    - software/examples-tutorials/machine-learning/video-walkthrough.html
    - software/pathplanning/robot-characterization/deploying-project.html
    - software/pathplanning/robot-characterization/generating-project.html
    - software/can-devices/power-distribution-panel.html
    - software/vscode-overview/importing-eclipse-project.html
    - yearly-overview/relicensing-labview.html
    - yearly-overview/2020-Game-Data.html
    - software/labview/creating-robot-programs/creating-building-and-loading-your-benchtop-test-program.html
    - software/labview/resources/talon-srx-can.html
    - software/vscode-overview/using-test-mode.html
    - software/vision-processing/axis-camera/axis-m1013-camera-compatibility.html
    - software/vision-processing/axis-camera/calibration.html
    - software/vision-processing/axis-camera/camera-settings.html
    - software/vision-processing/axis-camera/configuring-an-axis-camera.html
    - software/vision-processing/axis-camera/index.html
    - software/vision-processing/axis-camera/using-the-axis-camera-at-single-network-events.html
    - software/pathplanning/robot-characterization/additional-utils.html
    - software/pathplanning/robot-characterization/analyzing-data.html
    - software/pathplanning/robot-characterization/analyzing-feedback.html
    - software/pathplanning/robot-characterization/configuring-project.html
    - software/pathplanning/robot-characterization/characterization-routine.html
    - software/pathplanning/robot-characterization/index.html
    - software/pathplanning/robot-characterization/introduction.html
    - software/pathplanning/robot-characterization/viewing-diagnostics.html
    - software/pathplanning/pathweaver/creating-path-groups.html
    - software/dashboards/smartdashboard/setting-robot-preferences-from-smartdashboard.html
    - software/advanced-controls/introduction/tuning-pid-controller.html
    - software/roborio-info/roborio2-imaging.html
    - software/networktables/listening-for-subtable-creation.html
    - software/advanced-controls/state-space/state-space-pose_state-estimators.html
    - software/commandbased/command-groups.html
    - software/commandbased/decorators.html
    - software/commandbased/builtins.html
    - software/commandbased/convenience-features.html
    - software/wpilib-tools/axon/index.html
    - contributing/frc-docs/top-contributors.html
    - zero-to-robot/step-4/creating-benchtop-test-program-cpp-java.html
    - zero-to-robot/step-4/creating-benchtop-test-program-labview.html
    - zero-to-robot/step-4/running-benchtop-test.html
    - zero-to-robot/step-1/how-to-wire-a-robot.html
    - hardware/hardware-basics/wiring-pneumatics.html
    - software/commandbased/command-based-changes.html
    - software/hardware-apis/pneumatics/pneumatics.html
    - zero-to-robot/step-4/creating-test-drivetrain-program-cpp-java.html
    - software/driverstation/imaging-your-classmate.html
